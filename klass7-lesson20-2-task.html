<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —É—Ä–æ–∫: –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ ¬´–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ–π–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É¬ª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Digital Night Sky -->
    <!-- Application Structure Plan: The SPA is a gamified "Project Mission" that guides students through the practical assignment step-by-step. Each step is an interactive card. Clicking a button on a card simulates the action (e.g., adding stars, starting an animation) in a central preview canvas and unlocks the next step. This sequential, interactive checklist breaks down the complex project into manageable parts, building confidence and providing clear visual feedback for each action. -->
    <!-- Visualization & Content Choices: 1. Animation Steps -> Goal: Guide a complex process -> Viz: Interactive checklist of cards (HTML/Tailwind). 2. Animation Preview -> Goal: Show results of actions -> Viz: A single HTML Canvas. -> Interaction: Buttons on step cards trigger JS functions that update a state object, which is then rendered in a `requestAnimationFrame` loop. This provides instant visual feedback for each step of the practical work. -> Justification: Simulating the results on a canvas makes the instructions tangible and easier to understand than static text. -> All interactions use Vanilla JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0c1425;
            color: #e2e8f0; /* slate-200 */
        }
        .card {
            background-color: #1e293b; /* slate-800 */
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid #334155; /* slate-700 */
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
        }
        .btn-primary {
            background-color: #4f46e5; /* indigo-600 */
            color: #fff;
            box-shadow: 0 0 20px #4f46e544;
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #4338ca; /* indigo-700 */
        }
         .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .mission-step {
            transition: all 0.3s ease-in-out;
            opacity: 0.6;
            border-left-width: 4px;
            border-color: #475569; /* slate-600 */
        }
        .mission-step.active {
            opacity: 1;
            transform: scale(1.03);
            box-shadow: 0 0 30px #4f46e555;
            border-color: #4f46e5;
        }
        .mission-step.completed {
            opacity: 1;
            background-color: #1e293b;
            border-color: #22c55e;
        }
        .mission-step.completed .mission-btn {
            background-color: #166534; /* green-800 */
            color: #a7f3d0;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Global Header: Contains site title and main navigation -->
    <header class="bg-slate-800 p-4 text-white shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-xl font-bold">–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ 7 –∫–ª–∞—Å</div>
            <nav class="space-x-4">
                <a href="#" class="hover:text-slate-300 transition-colors duration-200">–û—Å–Ω–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</a>
                <a href="./index.html" class="hover:text-slate-300 transition-colors duration-200">7 –∫–ª–∞—Å</a>
                <a href="./klass7-lesson20-chapter2-practical4.html" class="hover:text-slate-300 transition-colors duration-200">–ù–∞–∑–∞–¥</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Main Content Area: Contains page-specific content -->
        <div class="container mx-auto p-4 sm:p-6 lg:p-8 flex-grow">
            <!-- Page-specific Header (moved inside main) -->
            <section class="text-center mb-8">
                <h1 class="text-lg text-aqua-600 mt-2">–¢–µ–º–∞ 2: ¬´–ö–æ–º–ø‚Äô—é—Ç–µ—Ä–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è¬ª. –£—Ä–æ–∫ ‚Ññ 20. (–î–æ –ü–†4)</h1>
                <h1 class="text-3xl md:text-4xl font-bold text-aqua-900">–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ 4. ¬´–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑ –¥–µ–∫—ñ–ª—å–∫–æ—Ö —Å—Ü–µ–Ω¬ª.<br>–£–∑–∞–≥–∞–ª—å–Ω–µ–Ω–Ω—è –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—É –∑ —Ç–µ–º–∏</h1>
                <h2 class="text-lg text-aqua-600 mt-2">–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –ø–ª–∞–Ω-–∫–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫—É –¥–ª—è 7 –∫–ª–∞—Å—É –ù–£–®</h2>
            </section>
        </div>

        <div class="container mx-auto px-4 py-12">
            
            <section id="intro" class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ4</h1>
                <h2 class="text-2xl md:text-3xl font-semibold text-slate-300 mb-6">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑ –¥–µ–∫—ñ–ª—å–∫–æ—Ö —Å—Ü–µ–Ω</h2>
                <p class="text-lg max-w-4xl mx-auto text-slate-400">–í–∏–∫–æ–Ω—É–π—Ç–µ –∫—Ä–æ–∫–∏ –ø–æ —á–µ—Ä–∑—ñ, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–º—ñ–Ω–∏ –¥–Ω—è —ñ –Ω–æ—á—ñ. –ù–∞—Ç–∏—Å–∫–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏, —è–∫ –≤–∞—à–∞ —Å—Ü–µ–Ω–∞ –æ–∂–∏–≤–∞—î –Ω–∞ –µ–∫—Ä–∞–Ω—ñ –ø—Ä–∞–≤–æ—Ä—É—á.</p>
            </section>

            <!-- Mission Control -->
            <div class="grid lg:grid-cols-2 gap-8 items-start">
                <!-- Steps -->
                <div id="mission-steps" class="space-y-4">
                    <!-- Mission steps will be injected here -->
                </div>
                <!-- Canvas Preview -->
                <div class="sticky top-8">
                    <div class="card">
                        <h3 class="text-xl font-bold text-center mb-4 text-indigo-400">–ï–∫—Ä–∞–Ω –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É</h3>
                        <div class="bg-black rounded-lg border border-slate-600 aspect-video">
                            <canvas id="main-canvas"></canvas>
                        </div>
                    </div>
                    <div id="mission-complete" class="hidden text-center mt-6 p-6 bg-green-900/50 border-2 border-dashed border-green-500 rounded-xl">
                        <h3 class="text-2xl font-bold text-green-300">üéâ –ü—Ä–æ—î–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ! üéâ</h3>
                        <p class="text-green-200 mt-2">–í–∏ —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–ª–∏ –≤—Å—ñ –∫—Ä–æ–∫–∏! –¢–µ–ø–µ—Ä –≤–∏ –≥–æ—Ç–æ–≤—ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω—É –∞–Ω—ñ–º–∞—Ü—ñ—é —É TupiTube.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Global Footer: Contains copyright and legal links -->
    <footer class="bg-gray-800 text-white p-4 mt-8 shadow-inner">
        <div class="container mx-auto text-center text-sm">
            <ul>
                <li><p class="mt-1">–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ 7 –∫–ª–∞—Å (–ù–æ–≤–∞ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –®–∫–æ–ª–∞). (2 –≥–æ–¥–∏–Ω–∏/—Ç–∏–∂–¥–µ–Ω—å, 70 –≥–æ–¥–∏–Ω/—Ä—ñ–∫).</p></li>
                <li><p class="mt-1"><a href="https://mon.gov.ua/static-objects/mon/sites/1/zagalna%20serednya/Navchalni.prohramy/2023/Model.navch.prohr.5-9.klas/Inform.osv.haluz.2023/Informatyka.7-9.kl.Bondarenko.ta.in.25.09.2023.pdf" target="_blank" class="text-blue-300 hover:underline">–ú–æ–¥–µ–ª—å–Ω–∞ –Ω–∞–≤—á–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ ¬´–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞. 7-9 –∫–ª–∞—Å–∏¬ª –¥–ª—è –∑–∞–∫–ª–∞–¥—ñ–≤ –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å–µ—Ä–µ–¥–Ω—å–æ—ó –æ—Å–≤—ñ—Ç–∏ (–∞–≤—Ç–æ—Ä–∏ –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ –û. –û., –õ–∞—Å—Ç–æ–≤–µ—Ü—å–∫–∏–π –í. –í., –ü–∏–ª–∏–ø—á—É–∫ –û. –ü., –®–µ—Å—Ç–æ–ø–∞–ª–æ–≤ –Ñ. –ê.). –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –ú—ñ–Ω—ñ—Å—Ç–µ—Ä—Å—Ç–≤–æ–º –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏ (–Ω–∞–∫–∞–∑ –ú—ñ–Ω—ñ—Å—Ç–µ—Ä—Å—Ç–≤–∞ –æ—Å–≤—ñ—Ç–∏ —ñ –Ω–∞—É–∫–∏ –£–∫—Ä–∞—ó–Ω–∏ –≤—ñ–¥ 06.09.2023 ‚Ññ 1090).</a></p></li><br>
                <li><p class="mt-1"><a href="https://ua.izzi.digital/DOS/750894/1041962.html" target="_blank" class="text-blue-300 hover:underline">–ù–∞–≤—á–∞–ª—å–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫: –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ : –ø—ñ–¥—Ä—É—á. –¥–ª—è 7 –∫–ª. –∑–∞–∫–ª. –∑–∞–≥–∞–ª. —Å–µ—Ä–µ–¥. –æ—Å–≤—ñ—Ç–∏ / [–û. –û. –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ, –í. –í. –õ–∞—Å—Ç–æ–≤–µ—Ü—å–∫–∏–π, –û. –ü. –ü–∏–ª–∏–ø—á—É–∫, –Ñ. –ê. –®–µ—Å—Ç–æ–ø–∞–ª–æ–≤]. ‚Äì –•–∞—Ä–∫—ñ–≤ : –í–∏–¥-–≤–æ ¬´–†–∞–Ω–æ–∫¬ª, 2024. ‚Äì 272 —Å. : —ñ–ª.</a></p></li>
                <li><p class="mt-1">–ê–≤—Ç–æ—Ä —Å–∞–π—Ç—É: –õ–∏—Å–µ–Ω–∫–æ –ì–∞–ª–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞, 2025 —Ä—ñ–∫.</p></li>           
            </ul>
        </div>
    </footer>  

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('main-canvas');
            const ctx = canvas.getContext('2d');
            const missionContainer = document.getElementById('mission-steps');
            const missionCompleteEl = document.getElementById('mission-complete');

            const missionStepsData = [
                { title: "–ö—Ä–æ–∫ 1-2: –°—Ü–µ–Ω–∞ 1 - –ù—ñ—á", description: "–°—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç–∞—Ç–∏—á–Ω–µ —Ç–ª–æ: —Ç–µ–º–Ω–æ-—Å–∏–Ω—î –Ω–µ–±–æ —Ç–∞ —Å—ñ—Ä–∏–π —Å–Ω—ñ–≥.", buttonText: "–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω—ñ—á–Ω—É —Å—Ü–µ–Ω—É", action: 'setupNight' },
                { title: "–ö—Ä–æ–∫ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑—ñ—Ä–æ–∫", description: "–î–æ–¥–∞—î–º–æ –∫—ñ–ª—å–∫–∞ –∑—ñ—Ä–æ–∫ –Ω–∞ –Ω—ñ—á–Ω–µ –Ω–µ–±–æ.", buttonText: "–î–æ–¥–∞—Ç–∏ –∑–æ—Ä—ñ", action: 'addStars' },
                { title: "–ö—Ä–æ–∫ 4: –ú–µ—Ä–µ—Ö—Ç—ñ–Ω–Ω—è –∑—ñ—Ä–æ–∫", description: "–î–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é —á–∞—Å—Ç–∫–æ–≤–æ–≥–æ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è, —â–æ–± –∑–æ—Ä—ñ –º–µ—Ä–µ—Ö—Ç—ñ–ª–∏.", buttonText: "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º–µ—Ä–µ—Ö—Ç—ñ–Ω–Ω—è", action: 'twinkleStars' },
                { title: "–ö—Ä–æ–∫ 5-7: –°—Ü–µ–Ω–∞ 2 - –°–≤—ñ—Ç–∞–Ω–æ–∫", description: "–°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤—É —Å—Ü–µ–Ω—É. –ù–∞–º–∞–ª—é—î–º–æ —Å–æ–Ω—Ü–µ –∑–∞ —Å–Ω—ñ–≥–æ–º.", buttonText: "–ù–∞–º–∞–ª—é–≤–∞—Ç–∏ —Å–æ–Ω—Ü–µ", action: 'drawSun' },
                { title: "–ö—Ä–æ–∫ 8: –°—Ö—ñ–¥ —Å–æ–Ω—Ü—è", description: "–ê–Ω—ñ–º—É—î–º–æ —Å—Ö—ñ–¥ —Ç–∞ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è —Å–æ–Ω—Ü—è. –ù–µ–±–æ —Å–≤—ñ—Ç–ª—ñ—à–∞—î.", buttonText: "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å—Ö—ñ–¥ —Å–æ–Ω—Ü—è", action: 'sunrise' },
                { title: "–ö—Ä–æ–∫ 9: –ó–Ω–∏–∫–Ω–µ–Ω–Ω—è –∑—ñ—Ä–æ–∫", description: "–î–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ, —â–æ–± –∑–æ—Ä—ñ –ø–ª–∞–≤–Ω–æ –∑–Ω–∏–∫–ª–∏.", buttonText: "–°—Ö–æ–≤–∞—Ç–∏ –∑–æ—Ä—ñ", action: 'fadeStars' },
                { title: "–ö—Ä–æ–∫ 10-14: –°—Ü–µ–Ω–∞ 3 - –î–µ–Ω—å", description: "–°—Ç–≤–æ—Ä—é—î–º–æ –¥–µ–Ω–Ω—É —Å—Ü–µ–Ω—É. –°–Ω—ñ–≥ –ø–æ—á–∏–Ω–∞—î —Ç–∞–Ω—É—Ç–∏.", buttonText: "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–∞–Ω–µ–Ω–Ω—è —Å–Ω—ñ–≥—É", action: 'meltSnow' }
            ];

            let state = {
                currentStep: 0,
                scene: 1,
                skyColor: { r: 23, g: 37, b: 84 }, // slate-800
                snowOpacity: 1,
                stars: [],
                sun: { y: 300, angle: 0, opacity: 0 },
                animation: {
                    twinkle: false,
                    sunrise: false,
                    fadeStars: false,
                    meltSnow: false
                }
            };

            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = container.clientWidth;
                canvas.height = container.clientHeight;
            }

            function renderMissionSteps() {
                missionContainer.innerHTML = '';
                missionStepsData.forEach((step, index) => {
                    const stepEl = document.createElement('div');
                    stepEl.id = `step-${index}`;
                    stepEl.className = 'mission-step card';
                    stepEl.innerHTML = `
                        <h3 class="font-bold text-lg text-slate-200">${step.title}</h3>
                        <p class="text-slate-400 mt-1 mb-4 text-sm">${step.description}</p>
                        <button class="btn btn-primary mission-btn" data-index="${index}" data-action="${step.action}" disabled>${step.buttonText}</button>
                    `;
                    missionContainer.appendChild(stepEl);
                });
                
                missionContainer.querySelectorAll('.mission-btn').forEach(btn => {
                    btn.addEventListener('click', handleStepCompletion);
                });
                
                updateActiveStep();
            }

            function updateActiveStep() {
                document.querySelectorAll('.mission-step').forEach((el, index) => {
                    el.classList.remove('active', 'completed');
                    const btn = el.querySelector('.mission-btn');
                    if (index < state.currentStep) {
                        el.classList.add('completed');
                        btn.disabled = true;
                        btn.innerHTML = `<span>‚úîÔ∏è</span> –í–∏–∫–æ–Ω–∞–Ω–æ`;
                    } else if (index === state.currentStep) {
                        el.classList.add('active');
                        btn.disabled = false;
                    }
                });
                if (state.currentStep >= missionStepsData.length) {
                    missionCompleteEl.classList.remove('hidden');
                }
            }

            function handleStepCompletion(event) {
                const action = event.target.dataset.action;
                actions[action]();
                state.currentStep++;
                updateActiveStep();
            }

            // --- Drawing and Animation Logic ---
            const actions = {
                setupNight: () => { state.scene = 1; },
                addStars: () => {
                    for(let i=0; i<5; i++) {
                        state.stars.push({
                            x: Math.random() * canvas.width,
                            y: Math.random() * (canvas.height / 2),
                            size: 2 + Math.random() * 3,
                            opacity: 1
                        });
                    }
                },
                twinkleStars: () => { state.animation.twinkle = true; },
                drawSun: () => { state.sun.opacity = 1; },
                sunrise: () => { state.animation.sunrise = true; },
                fadeStars: () => { state.animation.fadeStars = true; },
                meltSnow: () => { state.animation.meltSnow = true; }
            };

            function drawStar(x, y, size, opacity) {
                ctx.fillStyle = `rgba(253, 224, 71, ${opacity})`;
                ctx.beginPath();
                for (let i = 0; i < 5; i++) {
                    ctx.lineTo(x + size * Math.cos(i * 2 * Math.PI / 5 - Math.PI / 2), y + size * Math.sin(i * 2 * Math.PI / 5 - Math.PI / 2));
                    ctx.lineTo(x + (size/2) * Math.cos((i * 2 + 1) * Math.PI / 5 - Math.PI / 2), y + (size/2) * Math.sin((i * 2 + 1) * Math.PI / 5 - Math.PI / 2));
                }
                ctx.closePath();
                ctx.fill();
            }

            function draw() {
                // Sky
                ctx.fillStyle = `rgb(${state.skyColor.r}, ${state.skyColor.g}, ${state.skyColor.b})`;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Stars
                state.stars.forEach(star => {
                    if (state.animation.fadeStars) {
                        star.opacity = Math.max(0, star.opacity - 0.01); // Prioritize fading
                    } else if (state.animation.twinkle) {
                        star.opacity = 0.5 + Math.sin(Date.now() * 0.005 + star.x) * 0.5;
                    }
                    drawStar(star.x, star.y, star.size, star.opacity);
                });
                
                // Sun
                if (state.sun.opacity > 0) {
                    ctx.save();
                    ctx.translate(canvas.width / 2, state.sun.y);
                    ctx.rotate(state.sun.angle * Math.PI / 180);
                    ctx.fillStyle = `rgba(250, 204, 21, ${state.sun.opacity})`;
                    ctx.beginPath();
                    ctx.arc(0, 0, 40, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                }

                // Snow
                ctx.fillStyle = `rgba(226, 232, 240, ${state.snowOpacity})`; // slate-200
                ctx.beginPath();
                ctx.moveTo(0, canvas.height);
                ctx.lineTo(0, canvas.height - 50);
                ctx.bezierCurveTo(canvas.width / 3, canvas.height - 80, canvas.width * 2/3, canvas.height - 40, canvas.width, canvas.height - 60);
                ctx.lineTo(canvas.width, canvas.height);
                ctx.closePath();
                ctx.fill();
                
                // Animation updates
                if (state.animation.sunrise && state.sun.y > canvas.height / 2) {
                    state.sun.y -= 0.5;
                    state.sun.angle += 1;
                    state.skyColor.r = Math.min(96, state.skyColor.r + 0.2); // -> 96, 165, 250 (sky-400)
                    state.skyColor.g = Math.min(165, state.skyColor.g + 0.5);
                    state.skyColor.b = Math.min(250, state.skyColor.b + 0.8);
                }
                
                if (state.animation.meltSnow && state.snowOpacity > 0) {
                    state.snowOpacity -= 0.005;
                }

                requestAnimationFrame(draw);
            }

            // Initial setup
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            renderMissionSteps();
            draw();
        });
    </script>
</body>
</html>
